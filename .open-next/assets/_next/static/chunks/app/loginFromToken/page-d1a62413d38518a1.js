(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[649],{4741:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(5155),a=r(2115),n=r(5695);function c(){let e=(0,n.useSearchParams)(),s=(0,n.useRouter)(),[r,c]=(0,a.useState)("Processing...");return(0,a.useEffect)(()=>{let r=e.get("token");if(r)try{localStorage.setItem("cirricaToken",r),c("Login successful! Redirecting to dashboard..."),setTimeout(()=>{s.push("/dashboard")},1500)}catch(e){console.error("Error saving token:",e),c("Error saving authentication token.")}else c("No token provided. Please check your login link.")},[e,s]),(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Authenticating..."}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:r})]}),r.includes("Error")&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,t.jsx)("p",{className:"text-red-700 text-sm",children:"There was an issue with your login. Please try again or contact support."})}),r.includes("successful")&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-md",children:(0,t.jsx)("p",{className:"text-green-700 text-sm",children:"Authentication successful! You will be redirected shortly."})})]})})}function i(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Loading..."})})}),children:(0,t.jsx)(c,{})})}},5695:(e,s,r)=>{"use strict";var t=r(8999);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},6044:(e,s,r)=>{Promise.resolve().then(r.bind(r,4741))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(6044)),_N_E=e.O()}]);